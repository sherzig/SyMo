<?xml version="1.0" encoding="UTF-8" standalone="no" ?><File ModelCenterVersion="10.0.1" type="Phoenix Integration ModelCenter File" version="3.0" xml:space="preserve"><Model UUID="x32nu2vmsura6qm4ntxwm17rl2x4q2yy806teqwoyccst67wt22gmnbmaxfqu0jmegs0csiojkmb75xi35mh83dcdskjona3diz8tau56t2m6hivyqordbxgg0gma7qs"><Assembly name="motorModelMatlab" type="Assembly"><Properties><Property name="index">-1</Property><Property name="author">Bill</Property><Property name="date">10/6/2012</Property><Property name="version"></Property><Property name="description"></Property><Property name="componentRequirements"></Property><Property name="accumulatedRequirements"></Property><Property name="helpURL"></Property><Property name="keywords"></Property><Property name="custIcon"></Property><Property name="xposition">20</Property><Property name="yposition">20</Property><Property name="width">0</Property><Property name="height">0</Property><Property name="source"></Property><Property name="connector"></Property><Property name="queue"></Property><Property name="useDefaultQueue">false</Property><Property name="queueList"></Property><Property name="driverAutorun">false</Property><Property name="driverPriority">0</Property><Property name="syncInputs">false</Property><Property name="onInputChange">0</Property><Property name="runStatistics"></Property><Property name="allowInvalidDataAccess">false</Property><Property name="logLevel">30</Property><Property name="inheritParentLogLevel">false</Property><Property name="jobUUID"></Property><Property name="Top">96</Property><Property name="Left">36</Property><Property name="AnalysisView"><AnalysisView autoNSquared="false" bkMode="color" color="176,182,240" diagramStyle="classic" layout="0" showBorders="true" showLinks="true" snapToGrid="false" xml:space="preserve"><control box="143,122,194,159" collapsed="true" component=".\Matlab" layout="0" name="Matlab" oldBox="0,0,100,100" type="Component" visible="true"/></AnalysisView></Property><Property name="Zoom">125</Property></Properties><Component name="Matlab" type="Component"><Properties><Property name="index">0</Property><Property name="author">Phoenix Integration, Inc.</Property><Property name="date">10/6/2012</Property><Property name="version">1.7.0</Property><Property name="description">Plug-In for Matlab</Property><Property name="componentRequirements"></Property><Property name="accumulatedRequirements"></Property><Property name="helpURL">www.phoenix-int.com</Property><Property name="keywords">Plug-In,Matlab</Property><Property name="custIcon"></Property><Property name="xposition">143</Property><Property name="yposition">122</Property><Property name="width">0</Property><Property name="height">0</Property><Property name="source">component plug-in:SOFTWARE\\Phoenix Integration\\Component Plug-Ins\\Matlab</Property><Property name="connector"></Property><Property name="queue"></Property><Property name="useDefaultQueue">false</Property><Property name="queueList"></Property><Property name="driverAutorun">false</Property><Property name="driverPriority">0</Property><Property name="syncInputs">false</Property><Property name="onInputChange">0</Property><Property name="runStatistics"></Property><Property name="allowInvalidDataAccess">false</Property><Property name="logLevel">30</Property><Property name="inheritParentLogLevel">true</Property><Property name="setup">&lt;?xml version=\"1.0\" encoding=\"UTF-16\" standalone=\"no\" ?&gt;&lt;MatlabPlugIn AutoSetDir=\"true\" ClearWorkspace=\"false\" Convert1DArrays=\"true\" ShareMatlab=\"false\" ShowMatlab=\"false\" StoreDebugOutput=\"false\" UseNDArrays=\"true\" Version=\"1.7.0\" xml:space=\"preserve\"&gt;&lt;SourceCode&gt;% motor_MC.m\\r\\n% \\r\\n% Given the following variables, this will comput the stall torque [Nm] and\\r\\n% max rotational speed [rad/s] of a permenant magnet brushless DC electric\\r\\n% motor.\\r\\n% \\r\\n% This file is built to be used from within ModelCenter to optimize an\\r\\n% electric motor.\\r\\n% \\r\\n% ModelCenter Variable Definition\\r\\n% variable: powerMax double output\\r\\n% variable: omegaMax double output\\r\\n% variable: D_1in double input\\r\\n% variable: D_w double input\\r\\n% variable: l double input\\r\\n% variable: kD1 double input\\r\\n% variable: kD2 double input\\r\\n\\r\\n\\r\\n% %%%%%%%%%%%%%%%%%%%%%%%%%%%% function %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\r\\n% Motor Parameters\\r\\nm_1 = 3;                        % number of phases\\r\\npoles = 9;                      % number of poles\\r\\np = poles/2;                    \\r\\nalpha = 0.84;                   % Pole pitch to shoe width ratio\\r\\nk_f = (4/pi)*sin(alpha*pi/2);   % exitation field form factor\\r\\nmu_not = 0.4*pi*10^-6;          % mag perm of free space\\r\\nmu_rrec = 1.05;                 % relative recoil permiability\\r\\nB_r = 1.45;                     % remenance magnetic field (Neodymium Iron Boron)(T)\\r\\nk_w = 0.926;                    % winding factor\\r\\nk_p = pi*sqrt(3)/6;             % packing factor\\r\\nk_g = 0.98;                     % gap coefficient--changed from 0.95, gap was too large CJP\\r\\nrho_w = 1.68*10^(-8);           % resistivity of copper (ohm*meter)\\r\\ndensity_steel = 7850;           % density of steel (kg/m^3)\\r\\ndensity_copper = 8940;          % density of copper (kg/m^3)\\r\\ndensity_magnet = 7500;          % density of Neodymium Iron Boron (kg/m^3)\\r\\nk_c = 1.1;    % confirm value!  % Carters coefficient k_c &amp;gt; 1\\r\\nk_sat = 1.1;  % confirm value!  % saturation factor k_sat &amp;gt; 1\\r\\nRexternal = 1;                  % resistance of all the external components --CJP\\r\\n\\r\\n% Geometry\\r\\n% D_1in = 0.132;                % stator interior diameter\\r\\nr_1in = D_1in/2;\\r\\nD_1out = kD1*D_1in;             % stator exterior diameter\\r\\nr_1out = D_1out/2;\\r\\nD_2out =  k_g*D_1in;            % rotor exterior diameter\\r\\nr_2out = D_2out/2;\\r\\nD_2in = kD2*D_2out;              % rotor interior diameter\\r\\nr_2in = D_2in/2;\\r\\ng = r_1in - r_2out;             % air gap distance -- changed CJP\\r\\nr_w = D_w/2;\\r\\n\\r\\n% Functions\\r\\n\\r\\n% Motor Constants\\r\\ntau = pi*D_1in/(2*p); % pole pitch\\r\\nb_p = alpha*tau;    % pole shoe width\\r\\nh_a =  r_1out - r_1in; % armature pole length\\r\\nN_p = floor(0.225*tau*k_p*(r_1out-r_1in)/(pi*r_w^2)); % number of windings per armature pole\\r\\nN = 2*p*N_p/m_1; % number of turns per phase \\r\\n% N = 192;   % number of turns per phase\\r\\nh_m = r_2out - r_2in;  % magnet thickness\\r\\nB_mg = B_r/(1 + mu_rrec*(g/h_m)); \\r\\n% B_mg = 0.923; % max B in air gap\\r\\nB_mg1 = k_f*B_mg; % B_mg at fundamental harmonic\\r\\nphi_f = (2/pi)*tau*l*B_mg1; % excitation flux\\r\\nphi_f_sq = b_p*l*B_mg;\\r\\nkE = 8*p*N_p*k_w*phi_f_sq/(2*pi);  %using N_p% EMF constant (V-s)\\r\\n% kE = 8*p*N*k_w*phi_f_sq/(2*pi);  % EMF constant (V-s)\\r\\nkT = kE;  % torque constant (Nm/A)\\r\\n\\r\\n% Resistance\\r\\nl_w = N_p*(2*(l + 0.3*tau) + 2*0.7*tau)*3*3; % times 9 since there are thre poles per phase and 3 phases\\r\\nA_w = pi*r_w^2; \\r\\n\\r\\n% assume that the total resistance is the resistance of the\\r\\n% external components + the resistance of the wire -- CJP\\r\\nResistance_w = rho_w*l_w/A_w;\\r\\nRtotal = Rexternal + Resistance_w;\\r\\n\\r\\n% Inductance\\r\\n% armature inductance\\r\\ng_prime = k_c*k_sat*g + (h_m/mu_rrec);\\r\\nL_a = mu_not*(pi/12)*(D_1in/g_prime)*(alpha^3)*l*...\\r\\n    (N/(4*p*3))^2;\\r\\n\\r\\n% Mass\\r\\nAo = 0.225*tau*k_p*(r_1out-r_1in); % cross sectional area taken up by one side of a winding\\r\\nv1 = (pi*(r_1out*r_1out - r_1in*r_1in) - 4*Ao*(poles+1))*l;  % stator volume (4 should be 2, but numbers are too big)\\r\\nv2 = pi*(r_2out*r_2out - r_2in*r_2in)*l; % rotor volume\\r\\nvol_wire = A_w*l_w; %volume of windings\\r\\nmass_stator = v1*density_steel;\\r\\nmass_rotor = v2*density_magnet;\\r\\nmass_wire = vol_wire*density_copper;\\r\\nmass = mass_stator + mass_rotor + mass_wire;\\r\\n\\r\\n%Moment of inertia\\r\\nInertia = 0.5*mass*(r_2out*r_2out + r_2in*r_2in);\\r\\n\\r\\n% T = kT*I_rms_sq;    % torque (Nm)\\r\\n% E = kE*omega;      % EMF  (V)\\r\\n\\r\\nV = 500;\\r\\nb = 0.1;\\r\\nI = V/Rtotal;\\r\\nP = I*V;\\r\\nif N_p == 0\\r\\n    tauStall = 0;\\r\\n    omegaMax = 0;\\r\\nelse\\r\\n    tauStall = kT*V/Rtotal;\\r\\n    omegaMax = V*kT/(Rtotal*b+kT*kT);%*(30/pi);\\r\\nend\\r\\n\\r\\npowerMax = tauStall*omegaMax/4;\\r\\n\\r\\n\\r\\n\\r\\n&lt;/SourceCode&gt;&lt;Variables&gt;&lt;Variable IsInput=\"false\" MatlabName=\"powerMax\" Name=\"powerMax\"/&gt;&lt;Variable IsInput=\"false\" MatlabName=\"omegaMax\" Name=\"omegaMax\"/&gt;&lt;Variable IsInput=\"true\" MatlabName=\"D_1in\" Name=\"D_1in\"/&gt;&lt;Variable IsInput=\"true\" MatlabName=\"D_w\" Name=\"D_w\"/&gt;&lt;Variable IsInput=\"true\" MatlabName=\"l\" Name=\"l\"/&gt;&lt;Variable IsInput=\"true\" MatlabName=\"kD1\" Name=\"kD1\"/&gt;&lt;Variable IsInput=\"true\" MatlabName=\"kD2\" Name=\"kD2\"/&gt;&lt;/Variables&gt;&lt;AssociatedFiles/&gt;&lt;/MatlabPlugIn&gt;</Property></Properties><Variable name="powerMax" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">false</Property></Properties></Variable><Variable name="omegaMax" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">false</Property></Properties></Variable><Variable name="D_1in" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">true</Property></Properties></Variable><Variable name="D_w" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">true</Property></Properties></Variable><Variable name="l" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">true</Property></Properties></Variable><Variable name="kD1" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">true</Property></Properties></Variable><Variable name="kD2" state="Output" type="double">0<Properties><Property name="index">-1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property><Property name="componentPlugInInput">true</Property></Properties></Variable><Links><Link name="link0"><Properties><Property name="active">true</Property><Property name="from">..\\D_1in</Property><Property name="to">.\\D_1in</Property></Properties></Link><Link name="link1"><Properties><Property name="active">true</Property><Property name="from">..\\D_w</Property><Property name="to">.\\D_w</Property></Properties></Link><Link name="link2"><Properties><Property name="active">true</Property><Property name="from">..\\l</Property><Property name="to">.\\l</Property></Properties></Link><Link name="link3"><Properties><Property name="active">true</Property><Property name="from">..\\kD1</Property><Property name="to">.\\kD1</Property></Properties></Link><Link name="link4"><Properties><Property name="active">true</Property><Property name="from">..\\kD2</Property><Property name="to">.\\kD2</Property></Properties></Link></Links><AssociatedFiles/></Component><Variable name="D_w" state="Input" type="double">0<Properties><Property name="index">1</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">true</Property></Properties></Variable><Variable name="l" state="Input" type="double">0<Properties><Property name="index">2</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">true</Property></Properties></Variable><Variable name="kD1" state="Input" type="double">0<Properties><Property name="index">3</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">true</Property></Properties></Variable><Variable name="kD2" state="Input" type="double">0<Properties><Property name="index">4</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">true</Property></Properties></Variable><Variable name="powerMax" state="Output" type="double">0<Properties><Property name="index">5</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property></Properties></Variable><Variable name="omegaMax" state="Output" type="double">0<Properties><Property name="index">6</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">false</Property></Properties></Variable><Variable name="D_1in" state="Input" type="double">0<Properties><Property name="index">7</Property><Property name="description"></Property><Property name="upperBound">0</Property><Property name="hasUpperBound">false</Property><Property name="lowerBound">0</Property><Property name="hasLowerBound">false</Property><Property name="units"></Property><Property name="enumeratedValues"></Property><Property name="enumeratedAliases"></Property><Property name="validity">true</Property></Properties></Variable><Links><Link name="link0"><Properties><Property name="active">true</Property><Property name="from">.\\Matlab.powerMax</Property><Property name="to">.\\powerMax</Property></Properties></Link><Link name="link1"><Properties><Property name="active">true</Property><Property name="from">.\\Matlab.omegaMax</Property><Property name="to">.\\omegaMax</Property></Properties></Link></Links><AssociatedFiles/></Assembly><Extensions><Compatibilities xml:space="preserve"><Compatibility versionLessThan="9.0">This model was originally saved in ModelCenter 9.0 or greater. Data will be lost if this model is saved in this version of ModelCenter.</Compatibility></Compatibilities></Extensions></Model><Classes/></File>